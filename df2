FROM ubuntu:16.04

MAINTAINER muyi<dcmuyi@qq.com>

# use chinese mirror for apt-update
RUN sed -i "s/archive.ubuntu.com/cn.archive.ubuntu.com/g" /etc/apt/sources.list

ENV TZ=Asia/Shanghai

# install nginx, php
RUN apt-get update \
    && apt-get install -y php7.0 php7.0-mysql php7.0-dev php7.0-common php7.0-curl php7.0-gd php7.0-mbstring php-mongodb php-redis

RUN set -xe \
    && echo "配置workerman所需data文件夹" \
    && mkdir -p /data/run \
    && mkdir -p /data/logs/workerman \
    && chmod -R 777 /data